"use strict";(globalThis.webpackChunkgutenberg=globalThis.webpackChunkgutenberg||[]).push([[9532],{"./packages/components/src/custom-select-control-v2/stories/legacy.story.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,WithHints:()=>WithHints,WithLongLabels:()=>WithLongLabels,default:()=>legacy_story});var react=__webpack_require__("./node_modules/react/index.js"),FMVHAVXA=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/FMVHAVXA.js"),custom_select=__webpack_require__("./packages/components/src/custom-select-control-v2/custom-select.tsx"),item=__webpack_require__("./packages/components/src/custom-select-control-v2/item.tsx"),styles=__webpack_require__("./packages/components/src/custom-select-control-v2/styles.ts"),context_system_provider=__webpack_require__("./packages/components/src/context/context-system-provider.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function CustomSelectControl(props){const{__experimentalShowSelectedHint,__next40pxDefaultSize=!1,options,onChange,size="default",value,...restProps}=props,store=FMVHAVXA.I({async setValue(nextValue){if(!onChange)return;await Promise.resolve();const state=store.getState(),changeObject={highlightedIndex:state.renderedItems.findIndex((item=>item.value===nextValue)),inputValue:"",isOpen:state.open,selectedItem:{name:nextValue,key:nextValue},type:""};onChange(changeObject)}}),children=options.map((({name,key,__experimentalHint,...rest})=>{const withHint=(0,jsx_runtime.jsxs)(styles.F9,{children:[(0,jsx_runtime.jsx)("span",{children:name}),(0,jsx_runtime.jsx)(styles.cz,{className:"components-custom-select-control__item-hint",children:__experimentalHint})]});return(0,jsx_runtime.jsx)(item.C,{value:name,children:__experimentalHint?withHint:name,...rest},key)})),contextSystemValue=(0,react.useMemo)((()=>{let selectedSize;return selectedSize=__next40pxDefaultSize&&"default"===size||"__unstable-large"===size?"default":__next40pxDefaultSize||"default"!==size?size:"compact",{CustomSelectControlButton:{_overrides:{size:selectedSize}}}}),[__next40pxDefaultSize,size]),translatedProps={"aria-describedby":props.describedBy,children,renderSelectedValue:__experimentalShowSelectedHint?()=>{const{value:currentValue}=store.getState(),currentHint=options?.find((({name})=>currentValue===name));return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[currentValue,(0,jsx_runtime.jsx)(styles.FY,{className:"components-custom-select-control__hint",children:currentHint?.__experimentalHint})]})}:void 0,...restProps};return(0,jsx_runtime.jsx)(context_system_provider.G8,{value:contextSystemValue,children:(0,jsx_runtime.jsx)(custom_select.Z,{...translatedProps,store})})}CustomSelectControl.displayName="CustomSelectControl";const legacy_component=CustomSelectControl;try{CustomSelectControl.displayName="CustomSelectControl",CustomSelectControl.__docgenInfo={description:"",displayName:"CustomSelectControl",props:{className:{defaultValue:null,description:"Optional classname for the component.",name:"className",required:!1,type:{name:"string"}},hideLabelFromVision:{defaultValue:null,description:"Used to visually hide the label. It will always be visible to screen readers.",name:"hideLabelFromVision",required:!1,type:{name:"boolean"}},describedBy:{defaultValue:null,description:'Pass in a description that will be shown to screen readers associated with the\nselect trigger button. If no value is passed, the text "Currently selected:\nselectedItem.name" will be used fully translated.',name:"describedBy",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Label for the control.",name:"label",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"Function called with the control's internal state changes. The `selectedItem`\nproperty contains the next selected item.",name:"onChange",required:!1,type:{name:"(newValue: LegacyOnChangeObject) => void"}},onBlur:{defaultValue:null,description:"A handler for `onBlur` events.\n@ignore",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},onFocus:{defaultValue:null,description:"A handler for `onFocus` events.\n@ignore",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},onMouseOut:{defaultValue:null,description:"A handler for `onMouseOver` events.\n@ignore",name:"onMouseOut",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}},onMouseOver:{defaultValue:null,description:"A handler for `onMouseOut` events.\n@ignore",name:"onMouseOver",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}},options:{defaultValue:null,description:"The options that can be chosen from.",name:"options",required:!0,type:{name:"LegacyOption[]"}},size:{defaultValue:{value:"'default'"},description:"The size of the control.",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"default"'},{value:'"__unstable-large"'}]}},value:{defaultValue:null,description:"Can be used to externally control the value of the control.",name:"value",required:!1,type:{name:"LegacyOption"}},__experimentalShowSelectedHint:{defaultValue:{value:"false"},description:"Legacy way to add additional text to the right of each option.",name:"__experimentalShowSelectedHint",required:!1,type:{name:"boolean"}},__nextUnconstrainedWidth:{defaultValue:null,description:"Opt-in prop for an unconstrained width style which became the default in\nWordPress 6.5. The prop is no longer needed and can be safely removed.\n@deprecated\n@ignore",name:"__nextUnconstrainedWidth",required:!1,type:{name:"boolean"}},__next40pxDefaultSize:{defaultValue:{value:"false"},description:"Start opting into the larger default height that will become the default size in a future version.",name:"__next40pxDefaultSize",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/custom-select-control-v2/legacy-component/index.tsx#CustomSelectControl"]={docgenInfo:CustomSelectControl.__docgenInfo,name:"CustomSelectControl",path:"packages/components/src/custom-select-control-v2/legacy-component/index.tsx#CustomSelectControl"})}catch(__react_docgen_typescript_loader_error){}var index_story=__webpack_require__("./packages/components/src/custom-select-control/stories/index.story.tsx");const legacy_story={title:"Components (Experimental)/CustomSelectControl v2/Legacy",component:legacy_component,argTypes:{onChange:{control:{type:null}},value:{control:{type:null}}},parameters:{sourceLink:"packages/components/src/custom-select-control-v2",badges:["wip"],actions:{argTypesRegex:"^on.*"},controls:{expanded:!0},docs:{source:{excludeDecorators:!0}}},decorators:[Story=>(0,jsx_runtime.jsx)("div",{style:{minHeight:"150px"},children:(0,jsx_runtime.jsx)(Story,{})})]},Template=props=>{const[value,setValue]=(0,react.useState)(props.options[0]);return(0,jsx_runtime.jsx)(legacy_component,{...props,onChange:changeObject=>{setValue(changeObject.selectedItem),props.onChange?.(changeObject)},value})};Template.displayName="Template";const Default=Template.bind({});Default.args=index_story.Default.args;const WithLongLabels=Template.bind({});WithLongLabels.args=index_story.WithLongLabels.args;const WithHints=Template.bind({});WithHints.args=index_story.WithHints.args,Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"props => {\n  const [value, setValue] = useState(props.options[0]);\n  const onChange: React.ComponentProps<typeof CustomSelectControl>['onChange'] = changeObject => {\n    setValue(changeObject.selectedItem);\n    props.onChange?.(changeObject);\n  };\n  return <CustomSelectControl {...props} onChange={onChange} value={value} />;\n}",...Default.parameters?.docs?.source}}},WithLongLabels.parameters={...WithLongLabels.parameters,docs:{...WithLongLabels.parameters?.docs,source:{originalSource:"props => {\n  const [value, setValue] = useState(props.options[0]);\n  const onChange: React.ComponentProps<typeof CustomSelectControl>['onChange'] = changeObject => {\n    setValue(changeObject.selectedItem);\n    props.onChange?.(changeObject);\n  };\n  return <CustomSelectControl {...props} onChange={onChange} value={value} />;\n}",...WithLongLabels.parameters?.docs?.source}}},WithHints.parameters={...WithHints.parameters,docs:{...WithHints.parameters?.docs,source:{originalSource:"props => {\n  const [value, setValue] = useState(props.options[0]);\n  const onChange: React.ComponentProps<typeof CustomSelectControl>['onChange'] = changeObject => {\n    setValue(changeObject.selectedItem);\n    props.onChange?.(changeObject);\n  };\n  return <CustomSelectControl {...props} onChange={onChange} value={value} />;\n}",...WithHints.parameters?.docs?.source}}}}}]);